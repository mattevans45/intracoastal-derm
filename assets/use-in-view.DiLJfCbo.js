import{r as t}from"./vendor.CbKhAOLC.js";const e={some:0,all:1};function r(t,r,{root:n,margin:o,amount:s="some"}={}){const c=function(t,e,r){"string"==typeof t?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]);return Array.from(t||[])}(t),a=new WeakMap,i=new IntersectionObserver((t=>{t.forEach((t=>{const e=a.get(t.target);if(t.isIntersecting!==Boolean(e))if(t.isIntersecting){const e=r(t);"function"==typeof e?a.set(t.target,e):i.unobserve(t.target)}else e&&(e(t),a.delete(t.target))}))}),{root:n,rootMargin:o,threshold:"number"==typeof s?s:e[s]});return c.forEach((t=>i.observe(t))),()=>i.disconnect()}function n(e,{root:n,margin:o,amount:s,once:c=!1}={}){const[a,i]=t.useState(!1);return t.useEffect((()=>{if(!e.current||c&&a)return;const t={root:n&&n.current||void 0,margin:o,amount:s};return r(e.current,(()=>(i(!0),c?void 0:()=>i(!1))),t)}),[n,e,o,c,s]),a}export{n as u};
